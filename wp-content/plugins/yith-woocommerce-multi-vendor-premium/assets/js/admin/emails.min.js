(()=>{"use strict";var e={r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var a=o.call(e,t||"default");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===n(t)?t:String(t)}function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,o(a.key),a)}}e.r(t);const i={xhr:!1,block:function(e){e&&e.length&&void 0!==jQuery.fn.block&&(e.addClass("ajax-blocked"),e.block({message:null,overlayCSS:{background:"#fff no-repeat center",opacity:.5,cursor:"none"}}))},unblock:function(e){e&&e.hasClass("ajax-blocked")&&void 0!==jQuery.fn.block&&(e.unblock(),e.removeClass("ajax-blocked"))},call:function(e,t,n){var o=this;return n=void 0!==n?n:"GET",Array.isArray(e)?(e.push({name:"action",value:yith_wcmv_ajax.ajaxAction}),e.push({name:"security",value:yith_wcmv_ajax.ajaxNonce}),e.push({name:"context",value:"admin"})):(e.action=yith_wcmv_ajax.ajaxAction,e.security=yith_wcmv_ajax.ajaxNonce,e.context="admin"),o.block(t),o.xhr=jQuery.ajax({url:yith_wcmv_ajax.ajaxUrl,data:e,type:n}).fail((function(e){console.log(e),o.unblock(t)})).done((function(e){o.unblock(t),o.xhr=!1})),o.xhr},get:function(e,t){return this.call(e,t,"GET")},post:function(e,t){return this.call(e,t,"POST")},abort:function(){this.xhr&&this.xhr.abort()}};var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t=jQuery("#emails-container");t.on("change",".single-email-toggle-active .on_off",this.toggleActive),t.on("click",".single-email-toggle-editing a",this.toggleSettings),t.on("submit",".single-email-settings-form",this.saveSettings)}var t,n,o;return t=e,(n=[{key:"toggleActive",value:function(){var e=jQuery(this),t=e.closest(".single-email"),n=t.attr("data-key");window.onbeforeunload="",i.call({request:"email_active_toggle",email:n,status:e.is(":checked")?"yes":"no"},t,"POST").fail((function(t){console.log(t),e.attr("checked",!e.is(":checked"))}))}},{key:"toggleSettings",value:function(e){e.preventDefault(),jQuery(this).closest(".single-email").toggleClass("opened").find(".single-email-options").slideToggle()}},{key:"saveSettings",value:function(e){e.preventDefault();var t=jQuery(this),n=t.closest(".single-email");window.onbeforeunload="",i.call(t.serializeArray(),n,"POST").done((function(e){var n=t.find(".single-email-save"),o=n.val();n.val(n.attr("data-saved-message")),setTimeout((function(){n.val(o)}),5e3)})).fail((function(e){console.log(e),input.attr("checked",!input.is(":checked"))}))}}])&&a(t.prototype,n),o&&a(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();jQuery("#emails-container .single-email").length&&new r;var l=window;for(var c in t)l[c]=t[c];t.__esModule&&Object.defineProperty(l,"__esModule",{value:!0})})();